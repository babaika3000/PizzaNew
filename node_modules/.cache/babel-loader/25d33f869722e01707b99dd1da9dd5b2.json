{"ast":null,"code":"var _jsxFileName = \"/Users/sergey/Desktop/ton/Pizza/src/Componets/Pages/PizzaBlock/PizzaPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PizzaItem from \"./PizzaItem\";\nimport Categories from \"../../Categories\";\nimport Sort from \"../../Sort\";\nimport axios from \"axios\";\nimport Skeleton from \"./Skeleton\";\nimport Pagination from '../../utils/Pagination';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setSortId } from \"../../../redux/redusers/filtersSliceReduer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst url = `https://62d68deb51e6e8f06f0ccc9f.mockapi.io/items?page=1&limit=4&`;\n\nconst Home = () => {\n  _s();\n\n  const dispatch = useDispatch;\n  const sortId = useSelector(store => store.filtersSlice.sort); // const categorie = useSelector((store) => store.filtersSlice.categorei)\n  // const {searchPizza} = React.useContext(SearchContext)\n\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [itemesList, setItemesList] = React.useState(0); // const [sortId, setSortId] = React.useState(\n  //     {name:'популярности', propertyValue:'rating'})\n  // const [categoriesId, setCategoriesId] = React.useState(0)\n  // console.log( \"sortId\",sortId)\n\n  React.useEffect(() => {\n    setIsLoading(true);\n\n    async function pizzaList() {\n      try {\n        const response = await axios(`${url} + ${categorie > 0 ? `category=${categorie}` : ``}&sortBy=${sortId.propertyValue}&order=desc\n            `);\n        setItemesList(response.data);\n        setIsLoading(false);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    pizzaList();\n    window.scrollTo(0, 0);\n  }, [categorie, sortId]);\n  const FakeArray = [...Array(6)];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Categories, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Sort, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u0412\\u0441\\u0435 \\u043F\\u0438\\u0446\\u0446\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this), isLoading ? FakeArray.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(Skeleton, {}, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }, this);\n    }) : itemesList.map(item => {\n      return /*#__PURE__*/_jsxDEV(PizzaItem, { ...item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Pagination, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"AyYpbOkIF6Y82xEFkrFEqje0f10=\", false, function () {\n  return [useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","PizzaItem","Categories","Sort","axios","Skeleton","Pagination","useDispatch","useSelector","setSortId","url","Home","dispatch","sortId","store","filtersSlice","sort","isLoading","setIsLoading","useState","itemesList","setItemesList","useEffect","pizzaList","response","categorie","propertyValue","data","e","console","log","window","scrollTo","FakeArray","Array","map","item","i","id"],"sources":["/Users/sergey/Desktop/ton/Pizza/src/Componets/Pages/PizzaBlock/PizzaPage.jsx"],"sourcesContent":["import React from 'react';\r\nimport PizzaItem from \"./PizzaItem\";\r\nimport Categories from \"../../Categories\";\r\nimport Sort from \"../../Sort\";\r\nimport axios from \"axios\";\r\nimport Skeleton from \"./Skeleton\";\r\nimport Pagination from '../../utils/Pagination'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setSortId} from \"../../../redux/redusers/filtersSliceReduer\";\r\n\r\n\r\n\r\nconst url =`https://62d68deb51e6e8f06f0ccc9f.mockapi.io/items?page=1&limit=4&`\r\n\r\n\r\nconst Home = ()=> {\r\n\r\n    const dispatch = useDispatch\r\n    const sortId = useSelector((store) => store.filtersSlice.sort)\r\n    // const categorie = useSelector((store) => store.filtersSlice.categorei)\r\n\r\n    // const {searchPizza} = React.useContext(SearchContext)\r\n    const [isLoading, setIsLoading] = React.useState(true)\r\n    const [itemesList, setItemesList] = React.useState(0\r\n    )\r\n    // const [sortId, setSortId] = React.useState(\r\n    //     {name:'популярности', propertyValue:'rating'})\r\n    // const [categoriesId, setCategoriesId] = React.useState(0)\r\n    // console.log( \"sortId\",sortId)\r\n\r\n\r\n    React.useEffect(()=>{\r\n        setIsLoading(true)\r\n    async function pizzaList() {\r\n        try{\r\n            const response = await axios(`${url} + ${categorie > 0 ? `category=${categorie}` \r\n                :``}&sortBy=${sortId.propertyValue}&order=desc\r\n            `)\r\n            setItemesList(response.data)\r\n            setIsLoading(false)\r\n\r\n        }catch (e){\r\n            console.log(e)}}\r\n    pizzaList();\r\n        window.scrollTo(0,0)\r\n},[categorie,sortId,])\r\n    const FakeArray = [...Array(6)]\r\n        return (\r\n           <>\r\n                <Categories />\r\n               <Sort />\r\n               <h2 className=\"content__title\">Все пиццы</h2>\r\n               {isLoading ? FakeArray.map((item,i)=>{\r\n                   return   <Skeleton\r\n                       key={i} />}) :\r\n                   itemesList.map((item)=>{\r\n                   return   <PizzaItem\r\n                       key={item.id}\r\n                       {...item}/>})\r\n               }\r\n                 <Pagination/>\r\n                  </>\r\n\r\n        );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,SAAR,QAAwB,4CAAxB;;;AAIA,MAAMC,GAAG,GAAG,mEAAZ;;AAGA,MAAMC,IAAI,GAAG,MAAK;EAAA;;EAEd,MAAMC,QAAQ,GAAGL,WAAjB;EACA,MAAMM,MAAM,GAAGL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBC,IAA/B,CAA1B,CAHc,CAId;EAEA;;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BlB,KAAK,CAACmB,QAAN,CAAe,IAAf,CAAlC;EACA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BrB,KAAK,CAACmB,QAAN,CAAe,CAAf,CAApC,CARc,CAUd;EACA;EACA;EACA;;EAGAnB,KAAK,CAACsB,SAAN,CAAgB,MAAI;IAChBJ,YAAY,CAAC,IAAD,CAAZ;;IACJ,eAAeK,SAAf,GAA2B;MACvB,IAAG;QACC,MAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAAE,GAAEM,GAAI,MAAKe,SAAS,GAAG,CAAZ,GAAiB,YAAWA,SAAU,EAAtC,GACnC,EAAE,WAAUZ,MAAM,CAACa,aAAc;AACnD,aAFwC,CAA5B;QAGAL,aAAa,CAACG,QAAQ,CAACG,IAAV,CAAb;QACAT,YAAY,CAAC,KAAD,CAAZ;MAEH,CAPD,CAOC,OAAOU,CAAP,EAAS;QACNC,OAAO,CAACC,GAAR,CAAYF,CAAZ;MAAe;IAAC;;IACxBL,SAAS;IACLQ,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;EACP,CAdG,EAcF,CAACP,SAAD,EAAWZ,MAAX,CAdE;EAeA,MAAMoB,SAAS,GAAG,CAAC,GAAGC,KAAK,CAAC,CAAD,CAAT,CAAlB;EACI,oBACG;IAAA,wBACK,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QADL,eAEI,QAAC,IAAD;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAI,SAAS,EAAC,gBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,EAIKjB,SAAS,GAAGgB,SAAS,CAACE,GAAV,CAAc,CAACC,IAAD,EAAMC,CAAN,KAAU;MACjC,oBAAS,QAAC,QAAD,MACAA,CADA;QAAA;QAAA;QAAA;MAAA,QAAT;IACe,CAFN,CAAH,GAGNjB,UAAU,CAACe,GAAX,CAAgBC,IAAD,IAAQ;MACvB,oBAAS,QAAC,SAAD,OAEDA;MAFC,GACAA,IAAI,CAACE,EADL;QAAA;QAAA;QAAA;MAAA,QAAT;IAEgB,CAHhB,CAPR,eAYM,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QAZN;EAAA,gBADH;AAiBP,CAjDD;;GAAM3B,I;UAGaH,W;;;KAHbG,I;AAmDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}
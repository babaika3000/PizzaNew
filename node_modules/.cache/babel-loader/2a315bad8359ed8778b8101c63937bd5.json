{"ast":null,"code":"var _jsxFileName = \"/Users/sergey/Desktop/ton/Pizza/src/Componets/Pages/PizzaBlock/PizzaPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PizzaItem from \"./PizzaItem\";\nimport Categories from \"../../Categories\";\nimport Sort from \"../../Sort\";\nimport axios from \"axios\";\nimport Skeleton from \"./Skeleton\";\nimport Pagination from '../../utils/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst url = `https://62d68deb51e6e8f06f0ccc9f.mockapi.io/items?page=1&limit=4&`;\n\nconst Home = () => {\n  _s();\n\n  const {\n    searchPizza\n  } = React.useContext(SearchContext);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [itemesList, setItemesList] = React.useState(0);\n  const [sortId, setSortId] = React.useState({\n    name: 'популярности',\n    propertyValue: 'rating'\n  });\n  const [categoriesId, setCategoriesId] = React.useState(0);\n  console.log(\"222\", sortId.name);\n  React.useEffect(() => {\n    setIsLoading(true);\n\n    async function pizzaList() {\n      try {\n        const response = await axios(`${url} + ${categoriesId > 0 ? `category=${categoriesId}` : ``}&sortBy=${sortId.propertyValue}&order=desc\n            `);\n        setItemesList(response.data);\n        setIsLoading(false);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    pizzaList();\n    window.scrollTo(0, 0);\n  }, [categoriesId, sortId]);\n  const FakeArray = [...Array(6)];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Categories, {\n      value: categoriesId,\n      onClickSetCat: id => setCategoriesId(id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Sort, {\n      value: sortId,\n      onClickSort: i => setSortId(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u0412\\u0441\\u0435 \\u043F\\u0438\\u0446\\u0446\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this), isLoading ? FakeArray.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(Skeleton, {}, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }, this);\n    }) : itemesList.map(item => {\n      return /*#__PURE__*/_jsxDEV(PizzaItem, { ...item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Pagination, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"AMJaBS30Y1YI5kYmoYyGFjBM9XY=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","PizzaItem","Categories","Sort","axios","Skeleton","Pagination","url","Home","searchPizza","useContext","SearchContext","isLoading","setIsLoading","useState","itemesList","setItemesList","sortId","setSortId","name","propertyValue","categoriesId","setCategoriesId","console","log","useEffect","pizzaList","response","data","e","window","scrollTo","FakeArray","Array","id","i","map","item"],"sources":["/Users/sergey/Desktop/ton/Pizza/src/Componets/Pages/PizzaBlock/PizzaPage.jsx"],"sourcesContent":["import React from 'react';\r\nimport PizzaItem from \"./PizzaItem\";\r\nimport Categories from \"../../Categories\";\r\nimport Sort from \"../../Sort\";\r\nimport axios from \"axios\";\r\nimport Skeleton from \"./Skeleton\";\r\nimport Pagination from '../../utils/Pagination'\r\n\r\nconst url =`https://62d68deb51e6e8f06f0ccc9f.mockapi.io/items?page=1&limit=4&`\r\n\r\n\r\nconst Home = ()=> {\r\n\r\n    const {searchPizza} = React.useContext(SearchContext)\r\n    const [isLoading, setIsLoading] = React.useState(true)\r\n    const [itemesList, setItemesList] = React.useState(0\r\n    )\r\n    const [sortId, setSortId] = React.useState(\r\n        {name:'популярности', propertyValue:'rating'})\r\n    const [categoriesId, setCategoriesId] = React.useState(0)\r\n    console.log( \"222\",sortId.name)\r\n\r\n    React.useEffect(()=>{\r\n        setIsLoading(true)\r\n    async function pizzaList() {\r\n        try{\r\n            const response = await axios(`${url} + ${categoriesId > 0 ? `category=${categoriesId}` \r\n                :``}&sortBy=${sortId.propertyValue}&order=desc\r\n            `)\r\n            setItemesList(response.data)\r\n            setIsLoading(false)\r\n\r\n        }catch (e){\r\n            console.log(e)}}\r\n    pizzaList();\r\n        window.scrollTo(0,0)\r\n},[categoriesId,sortId,])\r\n    const FakeArray = [...Array(6)]\r\n        return (\r\n           <>\r\n                <Categories value={categoriesId} onClickSetCat={(id)=>setCategoriesId(id)}/>\r\n               <Sort value = {sortId} onClickSort={(i)=>setSortId(i)}/>\r\n               <h2 className=\"content__title\">Все пиццы</h2>\r\n               {isLoading ? FakeArray.map((item,i)=>{\r\n                   return   <Skeleton\r\n                       key={i} />}) :\r\n                   itemesList.map((item)=>{\r\n                   return   <PizzaItem\r\n                       key={item.id}\r\n                       {...item}/>})\r\n               }\r\n                 <Pagination/>\r\n                  </>\r\n\r\n        );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;;;AAEA,MAAMC,GAAG,GAAG,mEAAZ;;AAGA,MAAMC,IAAI,GAAG,MAAK;EAAA;;EAEd,MAAM;IAACC;EAAD,IAAgBT,KAAK,CAACU,UAAN,CAAiBC,aAAjB,CAAtB;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bb,KAAK,CAACc,QAAN,CAAe,IAAf,CAAlC;EACA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BhB,KAAK,CAACc,QAAN,CAAe,CAAf,CAApC;EAEA,MAAM,CAACG,MAAD,EAASC,SAAT,IAAsBlB,KAAK,CAACc,QAAN,CACxB;IAACK,IAAI,EAAC,cAAN;IAAsBC,aAAa,EAAC;EAApC,CADwB,CAA5B;EAEA,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCtB,KAAK,CAACc,QAAN,CAAe,CAAf,CAAxC;EACAS,OAAO,CAACC,GAAR,CAAa,KAAb,EAAmBP,MAAM,CAACE,IAA1B;EAEAnB,KAAK,CAACyB,SAAN,CAAgB,MAAI;IAChBZ,YAAY,CAAC,IAAD,CAAZ;;IACJ,eAAea,SAAf,GAA2B;MACvB,IAAG;QACC,MAAMC,QAAQ,GAAG,MAAMvB,KAAK,CAAE,GAAEG,GAAI,MAAKc,YAAY,GAAG,CAAf,GAAoB,YAAWA,YAAa,EAA5C,GACnC,EAAE,WAAUJ,MAAM,CAACG,aAAc;AACnD,aAFwC,CAA5B;QAGAJ,aAAa,CAACW,QAAQ,CAACC,IAAV,CAAb;QACAf,YAAY,CAAC,KAAD,CAAZ;MAEH,CAPD,CAOC,OAAOgB,CAAP,EAAS;QACNN,OAAO,CAACC,GAAR,CAAYK,CAAZ;MAAe;IAAC;;IACxBH,SAAS;IACLI,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;EACP,CAdG,EAcF,CAACV,YAAD,EAAcJ,MAAd,CAdE;EAeA,MAAMe,SAAS,GAAG,CAAC,GAAGC,KAAK,CAAC,CAAD,CAAT,CAAlB;EACI,oBACG;IAAA,wBACK,QAAC,UAAD;MAAY,KAAK,EAAEZ,YAAnB;MAAiC,aAAa,EAAGa,EAAD,IAAMZ,eAAe,CAACY,EAAD;IAArE;MAAA;MAAA;MAAA;IAAA,QADL,eAEI,QAAC,IAAD;MAAM,KAAK,EAAIjB,MAAf;MAAuB,WAAW,EAAGkB,CAAD,IAAKjB,SAAS,CAACiB,CAAD;IAAlD;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAI,SAAS,EAAC,gBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,EAIKvB,SAAS,GAAGoB,SAAS,CAACI,GAAV,CAAc,CAACC,IAAD,EAAMF,CAAN,KAAU;MACjC,oBAAS,QAAC,QAAD,MACAA,CADA;QAAA;QAAA;QAAA;MAAA,QAAT;IACe,CAFN,CAAH,GAGNpB,UAAU,CAACqB,GAAX,CAAgBC,IAAD,IAAQ;MACvB,oBAAS,QAAC,SAAD,OAEDA;MAFC,GACAA,IAAI,CAACH,EADL;QAAA;QAAA;QAAA;MAAA,QAAT;IAEgB,CAHhB,CAPR,eAYM,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QAZN;EAAA,gBADH;AAiBP,CA5CD;;GAAM1B,I;;KAAAA,I;AA8CN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}